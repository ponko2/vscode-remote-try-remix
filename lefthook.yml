commit-msg:
  jobs:
    - name: commitlint
      run: pnpm exec commitlint --edit {1}
pre-commit:
  parallel: true
  jobs:
    - group:
        parallel: false
        jobs:
          - name: ESLint
            run: pnpm exec eslint --fix {staged_files}
            glob: "*.{cjs,js,jsx,mjs,ts,tsx}"
            stage_fixed: true
          - name: Prettier
            run: pnpm exec prettier --write {staged_files}
            glob: "*.{cjs,js,jsx,mjs,ts,tsx}"
            stage_fixed: true
    - name: EditorConfig
      run: editorconfig-checker {staged_files}
    - name: Prettier
      run: pnpm exec prettier --write {staged_files}
      glob: "*.{css,json,yaml,yml}"
      stage_fixed: true
    - name: Prisma
      group:
        parallel: false
        jobs:
          - name: Prisma Format
            run: pnpm exec prisma format --schema={staged_files}
            glob: prisma/schema.prisma
            stage_fixed: true
          - name: Prisma Case Format
            run: pnpm exec prisma-case-format --file {staged_files}
            glob: prisma/schema.prisma
            stage_fixed: true
    - name: yamllint
      run: yamllint --list-files --strict {staged_files}
      glob: "*.{yaml,yml}"
